/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package app.dependency.update;

import app.dependency.update.app.helper.MavenRepo;
import app.dependency.update.app.helper.SetAppInitData;
import app.dependency.update.app.helper.ThreadMonitor;
import app.dependency.update.app.schedule.AppScheduler;
import lombok.extern.slf4j.Slf4j;

@Slf4j
public class App {
  public static void main(String[] args) {
    log.warn("Begin app-dependency-update initialization...");

    // set app init data
    appInitData(args);
    // start schedulers
    new AppScheduler().startSchedulers();
    // monitor threads
    new ThreadMonitor();

    log.warn("End app-dependency-update initialization...");
  }

  private static void appInitData(final String[] args) {
    // set caches when the app runs for the first time
    // these are later maintained by schedulers
    new SetAppInitData(args).setAppInitData();
    new MavenRepo().setPluginsMap();
    new MavenRepo().setDependenciesMap();
  }
}

/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package app.dependency.update;

import app.dependency.update.app.execute.GetAppInitData;
import app.dependency.update.app.execute.ThreadMonitor;
import app.dependency.update.app.model.AppInitData;
import app.dependency.update.app.schedule.AppScheduler;
import app.dependency.update.app.update.UpdateDependencies;
import lombok.extern.slf4j.Slf4j;

@Slf4j
public class App {
  public static void main(String[] args) {
    log.info("Begin app-dependency-update initialization...");

    // get initial app data
    final AppInitData appInitData = new GetAppInitData(args).getAppInitData();
    // start scheduler to update local maven repo in mongo
    new AppScheduler().startUpdateRepoScheduler();
    // start scheduler to delete/create/delete temp script files
    new AppScheduler().startFileSystemScheduler(appInitData);
    // monitor threads
    new ThreadMonitor(appInitData);
    // update dependencies
    new UpdateDependencies(appInitData).updateDependencies();

    log.info("End app-dependency-update initialization...");
  }
}
